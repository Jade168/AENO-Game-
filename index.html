<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AENO V3</title>
<style>
body{margin:0;overflow:hidden;background:#000;}
#gameContainer{width:100vw;height:100vh;}
</style>
</head>
<body>

<div id="gameContainer"></div>

<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/examples/js/loaders/GLTFLoader.js"></script>

<script>

const scene = new THREE.Scene();
scene.background = new THREE.Color(0xeaeaea);

const camera = new THREE.PerspectiveCamera(45, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.set(5,4,8);
camera.lookAt(0,1,0);

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth,window.innerHeight);
renderer.shadowMap.enabled = true;
document.getElementById("gameContainer").appendChild(renderer.domElement);

// light
const hemi = new THREE.HemisphereLight(0xffffff,0x444444,1);
scene.add(hemi);

const dir = new THREE.DirectionalLight(0xffffff,1.2);
dir.position.set(5,10,7);
dir.castShadow = true;
scene.add(dir);

// ground
const groundGeo = new THREE.PlaneGeometry(50,50);
const groundMat = new THREE.MeshStandardMaterial({color:0xdddddd});
const ground = new THREE.Mesh(groundGeo,groundMat);
ground.rotation.x = -Math.PI/2;
ground.receiveShadow = true;
scene.add(ground);

// ===== LOAD REAL MODEL =====

const loader = new THREE.GLTFLoader();

loader.load(
'https://threejs.org/examples/models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf',
function(gltf){

const model = gltf.scene;
model.scale.set(2,2,2);
model.position.set(0,0,0);

model.traverse(function(child){
if(child.isMesh){
child.castShadow = true;
child.receiveShadow = true;
}
});

scene.add(model);

},
undefined,
function(error){
console.error(error);
}
);

// render loop
function animate(){
requestAnimationFrame(animate);
renderer.render(scene,camera);
}
animate();

window.addEventListener("resize",()=>{
camera.aspect = window.innerWidth/window.innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(window.innerWidth,window.innerHeight);
});

</script>

</body>
</html>
